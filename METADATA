Metadata-Version: 2.1
Name: agaunibot
Version: 0.1
Summary: Telegram bot framework.
Home-page: https://github.com/aga-c4/agaunibot
Author: Konstantin Khachaturian
Author-email: aga-c4@yandex.ru
License: BSD License (2-Clause)
Platform: UNKNOWN
Classifier: Development Status :: 2 - Pre-Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: BSD License (2-Clause)
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
License-File: LICENSE
Requires-Dist: telebot

agaunibot
-------

**Универсальный фреймворк для создания ботов Telegram**
---
**Для запуска:**
1. Копируем содержимое sample в корень проекта или самостоятельное создаем аналогичную структуру.
2. Создаем виртуальное окружение и загружаем пакеты в него
```
python3 -m venv venv
source venv/bin/activate
pip3 install -r requirements.txt
```
3. Припишите телеграм идентификатор админа в config.system.telegram_admin_ids в конфигурации main.py
4. Пропишите параметры доступа к боту и каналу в config.telegram
5. Запуск бота осуществляется скриптом bot.sh или запуском python3 bot.py
```
python3 bot.py start --custom demo --log_level INFO
```
6. Можно запустить бота под Docker, для этого из корня выполните
```
docker-compose up
```
7. Вы можете установить фреймворк через pip, выполнив команду
```
pip install git+https://github.com/aga-c4/agaunibot
```
или добавив установку пакета в файл requirements.txt

**Элементы управления ботом**
Файлы бота находятся в папке app. Есть возможность использовать разные конфиги для работы бота. Какой код бота будет использован определяется параметром bot_controllers_prefix и bot_models_prefix конфига main.py из папки конфигов запускаемого бота. Какой конфиг будет использован при запуске определяется параметром custom, позволяющим делать несколько вариантов одного конфига для бота.

Конфиги бота находятся в папке app/configs. Default конфиг определяет все основные параметры и переопределяется custom конфигом.

Папку app вы можете скопировать с папки sample, либо создать свои в том числе и с ботами из 
других репозиториев (они находятся в .gitignore).

Дерево общения бота задается конфигом botstru.py, где описываются ноды этого общения, контроллеры,
экшены и параметры их вызова, доступы.

В конфигах есть файл devices.py, он нужен для организации работы ботов, управляющих устройствами. 
Этот файл может не использоваться.

Есть авторизованные и неавторизованные пользователи. Авторизованный пользователи - те, у которых есть сессия 
и статус авторизованности. Эти 2 типа пользователей имеют разные ветки в структуре бота. 
Управление регистрацией и авторизацией ведется на уроне бота, обычно чем-то вроде методов registration и authorization в app/controllers/botcontroller.py, запуск которых регулируется в структуре бота app/configs/default/botstru.py


